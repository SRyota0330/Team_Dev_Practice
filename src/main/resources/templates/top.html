<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <title>Shinano</title>
  <link rel="stylesheet" th:href="@{/css/top.css}" />
</head>

<body>
  <h2 th:text="${you != null} ? ${you.mailaddress} : 'ゲスト'">ここに表示</h2>

  <div class="container">

    <!-- サイドバー -->
    <aside class="sidebar">
      <a th:href="@{/}">
        <img th:src="@{/images/ロゴ.jpg}" alt="ロゴ" class="logo" />
      </a>

      <nav class="category">
        <h3>カテゴリー</h3>
        <ul class="category-list">
          <li>
            <a th:href="@{/}" class="category-button" th:classappend="${selectedGenre} == null ? ' active'">全て</a>
          </li>
          <li th:each="g : ${genres}">
            <a th:href="@{'/category/' + ${g}}" class="category-button"
               th:text="${g}" th:classappend="${g.equals(selectedGenre)} ? ' active'"></a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- メイン -->
    <main class="main-content">

      <!-- ヘッダー -->
      <header class="header">
        <div class="search-container">
          <form th:action="@{/search}" method="get">
            <input type="text" name="keywords" th:value="${keywords}" placeholder="お酒の名前や種類を検索"
              class="search-bar" />
            <input type="submit" class="search-button" value="検索" />
          </form>
        </div>

        <div class="auth-buttons">
          <!-- ログインしていなければ表示 -->
          <div th:if="${!isLoggedIn}">
            <a th:href="@{/login}"><button class="auth-button">ログイン</button></a>
            <a th:href="@{/signup}"><button class="auth-button">登録</button></a>
          </div>

          <!-- ログイン中なら表示 -->
          <div th:if="${isLoggedIn}">
            <span class="login-user">ログイン中：<span th:text="${you.mailaddress}">ユーザー名</span></span>
            <a th:href="@{/logout}"><button class="auth-button">ログアウト</button></a>
          </div>
        </div>
      </header>

      <!-- 商品一覧 -->
      <section class="product-list">
<!--        <p th:text="${message}"></p>-->
        <div th:each="item : ${items}">
          <a class="product-link" th:href="@{/item/{id}(id=${item.itemid})}">
            <div class="product-card">
              <img th:src="@{${item.picturelink}}" alt="商品画像" class="product-image" />
              <p th:text="${item.name}">商品名</p>
              <p th:text="${item.price + '円'}">価格</p>
            </div>
          </a>
        </div>
        <p th:text="${itemListSize + '件'}"></p>
      </section>

    </main>
  </div>
</body>
</html>
<!--<!DOCTYPE html>-->
<!--<html lang="ja" xmlns:th="http://www.thymeleaf.org">-->

<!--<head>-->
<!--    <meta charset="UTF-8" />-->
<!--    <title>Shinano</title>-->
<!--    <link rel="stylesheet" th:href="@{/css/top.css}" />-->
<!--</head>-->

<!--<body>-->
<!--    <h2 th:text="${you != null} ? ${you.mailaddress} : 'ゲスト'">ここに表示</h2>-->

<!--    <div class="container">-->

<!--        <aside class="sidebar">-->
<!--            <a th:href="@{/}">-->
<!--                <img th:src="@{/images/ロゴ.jpg}" alt="ロゴ" class="logo" />-->
<!--            </a>-->
<!--            <nav class="category">-->

<!--                <h3>カテゴリー</h3>-->
<!--                <div class="btn-group-vertical w-100" role="group">-->
<!--                    <a th:href="@{/}" class="btn btn-outline-secondary" th:classappend="${selectedGenre} == null ? ' active'">-->
<!--                        全て-->
<!--                    </a>-->
<!--                    <a th:each="g : ${genres}" th:href="@{'/category/' + ${g}}" class="btn btn-outline-primary mt-1"-->
<!--                        th:text="${g}" th:classappend="${g.equals(selectedGenre)} ? ' active'">-->
<!--                    </a>-->
<!--                </div>-->
<!--            </nav>-->
<!--        </aside>-->

<!--        <main class="main-content">-->

<!--            <header class="header">-->
<!--                <div class="search-container">-->
<!--                    <form th:action="@{/search}" method="get">-->
<!--                        <input type="text" name="keywords" th:value="${keywords}" placeholder="お酒の名前や種類を検索"-->
<!--                            class="search-bar" />-->
<!--                        <input type="submit" class="button" value="検索" />-->
<!--                    </form>-->
<!--                </div>-->

<!--                <div class="auth-buttons">-->
<!--                     ログインしていなければ表示 -->
<!--                    <div th:if="${!isLoggedIn}">-->
<!--                        <a th:href="@{/login}">-->
<!--                            <button class="auth-button">ログイン</button>-->
<!--                        </a>-->
<!--                        <a th:href="@{/signup}">-->
<!--                            <button class="auth-button">登録</button>-->
<!--                        </a>-->
<!--                    </div>-->

<!--                     ログインしていたら表示 -->
<!--                    <div th:if="${isLoggedIn}">-->
<!--                        <span class="login-user">ログイン中：<span th:text="${you.mailaddress}">ユーザー名</span></span>-->
<!--                        <a th:href="@{/logout}">-->
<!--                            <button class="auth-button">ログアウト</button>-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </header>-->

<!--            <section class="product-list">-->
<!--                <p th:text="${message}"></p>-->
<!--                <div th:each="item : ${items}">-->
<!--                    <a class="product-link" th:href="@{/item/{id}(id=${item.itemid})}">-->
<!--                        <div class="product-card">-->
<!--                            <img th:src="@{${item.picturelink}}" alt="商品画像" class="product-image" />-->
<!--                            <p th:text="${item.name}">商品名</p>-->
<!--                            <p th:text="${item.price + '円'}">価格</p>-->
<!--                        </div>-->
<!--                    </a>-->
<!--                </div>-->
<!--                <p th:text="${itemListSize + '件'}"></p>-->
<!--            </section>-->

<!--        </main>-->

<!--    </div>-->
<!--</body>-->

<!--</html>-->
